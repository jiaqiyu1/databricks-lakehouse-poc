
erDiagram
	DIM_DATE {
		int date_sk PK
		date full_date
		int fiscal_year
		int fiscal_month
		int fiscal_quarter
	}

	DIM_PROVIDER {
		bigint provider_sk PK
		string provider_id
		string provider_name
		string region
	}

	DIM_CONTRACT {
		bigint contract_sk PK
		string contract_number
		bigint provider_sk
		string service_type_code
		date start_date
		date end_date
		string status
	}

	DIM_SERVICE {
		bigint service_sk PK
		string service_type_code
		string service_description
	}

	DIM_FUNDING_ITEM {
		bigint funding_item_sk PK
		string funding_item_id
		string funding_category
		string funding_description
	}

	FACT_FUNDING_VALUES {
		bigint fact_id PK
		bigint contract_sk FK
		bigint provider_sk FK
		bigint service_sk FK
		bigint funding_item_sk FK
		int date_sk FK

		double contract_volume
		double contract_rate
		double contract_service_total
		timestamp ingested_ts
		string source_file
	}

	FACT_FUNDING_VALUES}o--||DIM_PROVIDER:"provider_sk"
	FACT_FUNDING_VALUES}o--||DIM_CONTRACT:"contract_sk"
	FACT_FUNDING_VALUES}o--||DIM_SERVICE:"service_sk"
	FACT_FUNDING_VALUES}o--||DIM_FUNDING_ITEM:"funding_item_sk"
	FACT_FUNDING_VALUES}o--||DIM_DATE:"date_sk"erDiagram
	direction TB

	DIM_DATE {
		int date_sk PK  
		date full_date  
		int fiscal_year  
		int fiscal_month  
		int fiscal_quarter  
	}

	DIM_PROVIDER {
		bigint provider_sk PK  
		string provider_id  
		string provider_name  
		string region  
		boolean is_current  
		timestamp effective_from  
		timestamp effective_to  
		int version  
		string change_hash  
	}

	DIM_CONTRACT {
		bigint contract_sk PK  
		string contract_number  
		bigint provider_sk  
		string service_type_code  
		date start_date  
		date end_date  
		string status  
		boolean is_current  
		timestamp effective_from  
		timestamp effective_to  
		int version  
		string change_hash  
	}

	DIM_SERVICE {
		bigint service_sk PK  
		string service_type_code  
		string service_description  
		boolean is_current  
		timestamp effective_from  
		timestamp effective_to  
		int version  
		string change_hash  
	}

	DIM_FUNDING_ITEM {
		bigint funding_item_sk PK  
		string funding_item_id  
		string funding_category  
		string funding_description  
		boolean is_current  
		timestamp effective_from  
		timestamp effective_to  
		int version  
		string change_hash  
	}

	FACT_FUNDING_VALUES {
		bigint fact_id PK
		bigint contract_sk FK  
		bigint provider_sk FK  
		bigint service_sk FK  
		bigint funding_item_sk FK  
		int date_sk FK  

		double contract_volume  
		double contract_rate  
		double contract_service_total  

		timestamp ingested_ts  
		string source_file  
	}

	FACT_FUNDING_VALUES}o--||DIM_PROVIDER:"provider_sk"
	FACT_FUNDING_VALUES}o--||DIM_CONTRACT:"contract_sk"
	FACT_FUNDING_VALUES}o--||DIM_SERVICE:"service_sk"
	FACT_FUNDING_VALUES}o--||DIM_FUNDING_ITEM:"funding_item_sk"
	FACT_FUNDING_VALUES}o--||DIM_DATE:"date_sk"
